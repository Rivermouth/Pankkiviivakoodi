(function(){JsBarcode=function(e,d,a){var c=JsBarcode.defaults,b;for(b in a)c[b]=a[b];a=c;c=document.createElement("canvas");if(!c.getContext)return e;d=new window[a.format](d);if(!d.valid())return this;d=d.encoded();b=c.getContext("2d");null!=a.totalWidth&&"number"===typeof a.totalWidth&&(a.width=Math.floor(a.totalWidth/d.length),a.quite+=(a.totalWidth-a.width*d.length)/2);c.width=d.length*a.width+2*a.quite;c.height=a.height;b.clearRect(0,0,c.width,c.height);a.backgroundColor&&(b.fillStyle=a.backgroundColor,
b.fillRect(0,0,c.width,c.height));b.fillStyle=a.lineColor;for(var l=0;l<d.length;l++){var h=l*a.width+a.quite;"1"==d[l]&&b.fillRect(h,0,a.width,a.height)}uri=c.toDataURL("image/png");if(e.attr)return e.attr("src",uri);e.setAttribute("src",uri)};JsBarcode.defaults={width:2,height:100,quite:10,totalWidth:null,format:"CODE128",backgroundColor:"#fff",lineColor:"#000"};window.jQuery&&(jQuery.fn.JsBarcode=function(e,d){JsBarcode(this,e,d)});window.JsBarcode=JsBarcode})();function CODE128(e,d){function a(){return-1==e.search(n)?!1:!0}function c(a,d,c,b){var f;f=""+k(c);f+=d(a);f+=k(b(a,c));return f+=p}function b(a){for(var c="",d=0;d<a.length;d++){var b;a:{for(b=0;b<g.length;b++)if(g[b][0]==a[d]){b=g[b][1];break a}b=""}c+=b}return c}function l(a){for(var b="",c=0;c<a.length;c+=2)b+=k(parseInt(a.substr(c,2)));return b}function h(a,b){for(var c=0,d=0;d<a.length;d++){var f;a:{for(f=0;f<g.length;f++)if(g[f][0]==a[d]){f=g[f][2];break a}f=0}c+=f*(d+1)}return(c+b)%103}function m(a,
c){for(var b=0,d=1,f=0;f<a.length;f+=2)b+=parseInt(a.substr(f,2))*d,d++;return(b+c)%103}function k(a){for(var b=0;b<g.length;b++)if(g[b][2]==a)return g[b][1];return""}d=d||"B";this.string128=e+"";this.valid=a;this.encoded=function(){return a(e)?q["code128"+d](e):""};var g=[[" ","11011001100",0],["!","11001101100",1],['"',"11001100110",2],["#","10010011000",3],["$","10010001100",4],["%","10001001100",5],["&","10011001000",6],["'","10011000100",7],["(","10001100100",8],[")","11001001000",9],["*","11001000100",
10],["+","11000100100",11],[",","10110011100",12],["-","10011011100",13],[".","10011001110",14],["/","10111001100",15],["0","10011101100",16],["1","10011100110",17],["2","11001110010",18],["3","11001011100",19],["4","11001001110",20],["5","11011100100",21],["6","11001110100",22],["7","11101101110",23],["8","11101001100",24],["9","11100101100",25],[":","11100100110",26],[";","11101100100",27],["<","11100110100",28],["=","11100110010",29],[">","11011011000",30],["?","11011000110",31],["@","11000110110",
32],["A","10100011000",33],["B","10001011000",34],["C","10001000110",35],["D","10110001000",36],["E","10001101000",37],["F","10001100010",38],["G","11010001000",39],["H","11000101000",40],["I","11000100010",41],["J","10110111000",42],["K","10110001110",43],["L","10001101110",44],["M","10111011000",45],["N","10111000110",46],["O","10001110110",47],["P","11101110110",48],["Q","11010001110",49],["R","11000101110",50],["S","11011101000",51],["T","11011100010",52],["U","11011101110",53],["V","11101011000",
54],["W","11101000110",55],["X","11100010110",56],["Y","11101101000",57],["Z","11101100010",58],["[","11100011010",59],["\\","11101111010",60],["]","11001000010",61],["^","11110001010",62],["_","10100110000",63],["`","10100001100",64],["a","10010110000",65],["b","10010000110",66],["c","10000101100",67],["d","10000100110",68],["e","10110010000",69],["f","10110000100",70],["g","10011010000",71],["h","10011000010",72],["i","10000110100",73],["j","10000110010",74],["k","11000010010",75],["l","11001010000",
76],["m","11110111010",77],["n","11000010100",78],["o","10001111010",79],["p","10100111100",80],["q","10010111100",81],["r","10010011110",82],["s","10111100100",83],["t","10011110100",84],["u","10011110010",85],["v","11110100100",86],["w","11110010100",87],["x","11110010010",88],["y","11011011110",89],["z","11011110110",90],["{","11110110110",91],["|","10101111000",92],["}","10100011110",93],["~","10001011110",94],[String.fromCharCode(127),"10111101000",95],[String.fromCharCode(128),"10111100010",
96],[String.fromCharCode(129),"11110101000",97],[String.fromCharCode(130),"11110100010",98],[String.fromCharCode(131),"10111011110",99],[String.fromCharCode(132),"10111101110",100],[String.fromCharCode(133),"11101011110",101],[String.fromCharCode(134),"11110101110",102],[String.fromCharCode(135),"11010000100",103],[String.fromCharCode(136),"11010010000",104],[String.fromCharCode(137),"11010011100",105]],p="1100011101011",n=/^[!-~ ]+$/,q={code128B:function(a){return c(a,b,104,h)},code128C:function(a){a=
a.replace(/ /g,"");return c(a,l,105,m)}}}function CODE128B(e){return new CODE128(e,"B")}function CODE128C(e){return new CODE128(e,"C")};(function(e){var d=function(a,c){var b=a.length;return(a.substring(0,b-(""+c).length)+c).substring(0,b)};e.Pankkiviivakoodi={luo:function(a,c,b,e,h,m,k,g){if(8>arguments.length)throw"Unohdit antaa kaikki function vaativat parametrit.";6<(""+b).length?(console.warn("Laskun summa on liian suuri tulostettavaksi viivakoodille. Tulostetaan summa 00000000."),e=b=0):2<(""+e).length&&(console.warn("Annetut sentit ovat enemm\u00e4n kuin 99. Tulostetaan summa 00000000."),e=b=0);c=(""+c).replace("FI","");b=
d("000000",b);e=d("00",e);h=d("00000000000000000000",h);g=(""+g).substr(-2);k=d("00",k);m=d("00",m);a.style.height="10mm";a.style.width="105mm";JsBarcode(a,"4"+c+b+e+"000"+h+g+k+m,{width:1,height:a.offsetHeight,totalWidth:a.offsetWidth,format:"CODE128C"})}}})(window);
